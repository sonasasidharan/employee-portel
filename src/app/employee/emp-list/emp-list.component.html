<!-- <p>emp-list works!</p> -->

<div class="w-100 row">
    <div class="col-2">
        <div class="bg-dark pt-5" style="height: 93vh;">
            <h5 class="text-center">
                <a routerLink="/home" class="text-light text-decoration-none">Home</a>
            </h5>
            <h5 class="text-center mt-5">
                <a routerLink="/employee" class="text-light text-decoration-none">Employee</a>
            </h5>
        </div>
    </div>
    <div class="col">
        <div class="row">
            <div class="col">
                <h3 class="mt-3">Employee List</h3>
                <h4 class="mt-4">{{cdate | date:'MMMM d ,y'}}</h4>
                <div class="border mt-4 d-flex" style="width: 265px;">
                    <input type="text" placeholder="Enter Username to Search..."   [(ngModel)]="searchKey" class="border-0">
                    <div class="dropdown ">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                             Sort
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li class="dropdown-item" (click)="sortId()">Sort By Id</li>
                            <li class="dropdown-item" (click)="sortUsername()">Sort By Username</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-2 h-50">
                <button class="btn btn-success mt-3 py-2"><i class="fa-solid fa-user-plus" style="color: #ffffff;"></i>
                    <a routerLink="/employee/addemp" class="text-decoration-none,text-light">Add Employee</a>
                </button>
                <div class="mt-5 ms-5">
                    <button class="btn btn-warning" (click)="exportToPdf()">Export</button>
                </div>
            </div>
        </div>

        <div class="row">
            <table class="mt-5 table table-bordered">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr  *ngFor="let i of employees |search:searchKey">
                        <td>{{i.id}}</td>
                        <td>{{i.username}}</td>
                        <td>{{i.email}}</td>
                        <td>
                            <span class="btn btn-success " *ngIf="i.status=='active';else elsedata">Active</span>
                            <ng-template #elsedata>
                                <span class="btn btn-warning">Inactive</span>
                            </ng-template>
                        </td>
                        <td>
                            <a routerLink='/employee/editemp/{{i.id}}'><i class="fa-solid fa-pen-to-square"></i></a>
                           <button class="btn" (click)="deleteEmp(i.id)"> <i class="fa-solid fa-trash" style="color: #8f0015;"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>